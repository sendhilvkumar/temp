<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Praedictio Manutentio - AI-Powered Predictive Maintenance Demo</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: #f5f7fa;
            color: #2c3e50;
            padding: 20px;
            line-height: 1.6;
        }

        .header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 40px;
            border-radius: 12px;
            margin-bottom: 30px;
            box-shadow: 0 8px 16px rgba(0,0,0,0.15);
        }

        .header h1 {
            font-size: 38px;
            margin-bottom: 12px;
            font-weight: 700;
        }

        .header p {
            font-size: 18px;
            opacity: 0.95;
            margin-bottom: 8px;
        }

        .header .subtitle {
            font-size: 15px;
            opacity: 0.85;
            font-style: italic;
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .stat-card {
            background: white;
            padding: 28px;
            border-radius: 12px;
            box-shadow: 0 4px 8px rgba(0,0,0,0.08);
            transition: all 0.3s ease;
            border-top: 4px solid #3498db;
        }

        .stat-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 16px rgba(0,0,0,0.12);
        }

        .stat-card.success { border-top-color: #27ae60; }
        .stat-card.warning { border-top-color: #f39c12; }
        .stat-card.danger { border-top-color: #e74c3c; }
        .stat-card.info { border-top-color: #3498db; }

        .stat-card .label {
            font-size: 13px;
            color: #7f8c8d;
            margin-bottom: 12px;
            text-transform: uppercase;
            letter-spacing: 1px;
            font-weight: 600;
        }

        .stat-card .value {
            font-size: 42px;
            font-weight: 700;
            color: #2c3e50;
            margin-bottom: 8px;
            line-height: 1;
        }

        .stat-card.success .value { color: #27ae60; }
        .stat-card.warning .value { color: #f39c12; }
        .stat-card.danger .value { color: #e74c3c; }
        .stat-card.info .value { color: #3498db; }

        .stat-card .subtext {
            font-size: 14px;
            color: #95a5a6;
        }

        .section {
            background: white;
            padding: 35px;
            border-radius: 12px;
            margin-bottom: 30px;
            box-shadow: 0 4px 8px rgba(0,0,0,0.08);
        }

        .section h2 {
            font-size: 26px;
            margin-bottom: 25px;
            color: #2c3e50;
            border-bottom: 3px solid #ecf0f1;
            padding-bottom: 12px;
            font-weight: 700;
        }

        .prediction-card {
            border-left: 6px solid #e74c3c;
            padding: 25px;
            background: #fef5f5;
            border-radius: 8px;
            margin-bottom: 20px;
            transition: all 0.3s ease;
        }

        .prediction-card:hover {
            box-shadow: 0 4px 12px rgba(231, 76, 60, 0.2);
        }

        .prediction-card.warning {
            border-left-color: #f39c12;
            background: #fef9f3;
        }

        .prediction-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 18px;
            flex-wrap: wrap;
            gap: 10px;
        }

        .prediction-title {
            font-size: 20px;
            font-weight: 700;
            color: #2c3e50;
        }

        .confidence-badge {
            background: #e74c3c;
            color: white;
            padding: 8px 18px;
            border-radius: 25px;
            font-size: 15px;
            font-weight: 700;
            box-shadow: 0 2px 4px rgba(0,0,0,0.2);
        }

        .confidence-badge.warning {
            background: #f39c12;
        }

        .prediction-meta {
            display: flex;
            gap: 25px;
            margin-bottom: 18px;
            font-size: 14px;
            color: #7f8c8d;
            flex-wrap: wrap;
        }

        .prediction-meta span {
            display: flex;
            align-items: center;
            gap: 6px;
            font-weight: 500;
        }

        .prediction-description {
            margin-bottom: 18px;
            line-height: 1.7;
            color: #34495e;
            font-size: 15px;
        }

        .prediction-recommendation {
            background: white;
            padding: 18px;
            border-radius: 8px;
            border-left: 4px solid #3498db;
            font-size: 15px;
            color: #2c3e50;
            line-height: 1.6;
        }

        .prediction-recommendation strong {
            color: #3498db;
            font-weight: 700;
        }

        .dc-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
            gap: 25px;
        }

        .dc-card {
            border: 3px solid #27ae60;
            padding: 25px;
            border-radius: 12px;
            background: #f0fdf4;
            transition: all 0.3s ease;
        }

        .dc-card:hover {
            transform: translateY(-3px);
            box-shadow: 0 6px 12px rgba(0,0,0,0.1);
        }

        .dc-card.warning {
            border-color: #f39c12;
            background: #fef9f3;
        }

        .dc-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 18px;
        }

        .dc-name {
            font-size: 20px;
            font-weight: 700;
            color: #2c3e50;
        }

        .status-badge {
            padding: 6px 14px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .status-badge.healthy {
            background: #27ae60;
            color: white;
        }

        .status-badge.warning {
            background: #f39c12;
            color: white;
        }

        .health-score {
            font-size: 48px;
            font-weight: 700;
            text-align: center;
            margin: 25px 0;
        }

        .health-score.healthy { color: #27ae60; }
        .health-score.warning { color: #f39c12; }

        .metrics-list {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        .metric-row {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 12px;
            background: white;
            border-radius: 8px;
            font-size: 15px;
        }

        .metric-label {
            color: #7f8c8d;
            font-weight: 500;
        }

        .metric-value {
            font-weight: 700;
            color: #2c3e50;
            font-size: 16px;
        }

        .chart-container {
            position: relative;
            height: 350px;
            margin-top: 25px;
        }

        .incidents-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 25px;
        }

        .incidents-table th {
            background: #34495e;
            color: white;
            padding: 15px;
            text-align: left;
            font-weight: 700;
            font-size: 14px;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .incidents-table td {
            padding: 15px;
            border-bottom: 1px solid #ecf0f1;
            font-size: 14px;
        }

        .incidents-table tr:hover {
            background: #f8f9fa;
        }

        .incidents-table tr:last-child td {
            border-bottom: none;
        }

        .cost-cell {
            font-weight: 700;
            color: #e74c3c;
            font-size: 15px;
        }

        .model-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
            gap: 20px;
            margin-top: 25px;
        }

        .model-card {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            padding: 25px;
            border-radius: 12px;
            text-align: center;
            color: white;
            box-shadow: 0 4px 8px rgba(0,0,0,0.15);
            transition: all 0.3s ease;
        }

        .model-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 16px rgba(0,0,0,0.2);
        }

        .model-name {
            font-size: 18px;
            font-weight: 700;
            margin-bottom: 12px;
            opacity: 0.95;
        }

        .model-accuracy {
            font-size: 36px;
            font-weight: 700;
            color: #fff;
        }

        .model-predictions {
            font-size: 13px;
            margin-top: 8px;
            opacity: 0.85;
        }

        .footer {
            text-align: center;
            padding: 30px;
            color: #7f8c8d;
            font-size: 14px;
            margin-top: 40px;
        }

        .footer p {
            margin: 5px 0;
        }

        .demo-badge {
            display: inline-block;
            background: #e74c3c;
            color: white;
            padding: 8px 16px;
            border-radius: 20px;
            font-size: 13px;
            font-weight: 700;
            margin-top: 10px;
        }

        @media print {
            body {
                background: white;
            }
            .section, .stat-card {
                box-shadow: none;
                border: 1px solid #ddd;
            }
        }

        @media (max-width: 768px) {
            .stats-grid, .dc-grid {
                grid-template-columns: 1fr;
            }
            .header h1 {
                font-size: 28px;
            }
            .prediction-header {
                flex-direction: column;
                align-items: flex-start;
            }
        }
    </style>
</head>
<body>
    <div class="header">
        <h1>🤖 Praedictio Manutentio</h1>
        <p>AI-Powered Predictive Maintenance for Active Directory Domain Controllers</p>
        <p class="subtitle">Banking Infrastructure Team | Confidential Demo</p>
        <div class="demo-badge">DEMONSTRATION WITH SYNTHETIC DATA</div>
    </div>

    <!-- Key Metrics -->
    <div class="stats-grid">
        <div class="stat-card success">
            <div class="label">Overall System Health</div>
            <div class="value">92%</div>
            <div class="subtext">1 warning, 4 healthy DCs</div>
        </div>
        <div class="stat-card warning">
            <div class="label">Active Predictions</div>
            <div class="value">2</div>
            <div class="subtext">1 critical, 1 warning</div>
        </div>
        <div class="stat-card success">
            <div class="label">Model Accuracy</div>
            <div class="value">87.5%</div>
            <div class="subtext">15 predictions (30 days)</div>
        </div>
        <div class="stat-card success">
            <div class="label">Downtime Prevented</div>
            <div class="value">6.5h</div>
            <div class="subtext">4 incidents avoided</div>
        </div>
        <div class="stat-card success">
            <div class="label">Cost Savings (YTD)</div>
            <div class="value">£1.6M</div>
            <div class="subtext">vs. reactive maintenance</div>
        </div>
        <div class="stat-card success">
            <div class="label">Current Uptime</div>
            <div class="value">99.97%</div>
            <div class="subtext">MTBF: 87 days</div>
        </div>
    </div>

    <!-- Active Predictions -->
    <div class="section">
        <h2>🔮 Active Predictions</h2>
        
        <div class="prediction-card">
            <div class="prediction-header">
                <div class="prediction-title">DC03-LON - Memory Exhaustion</div>
                <div class="confidence-badge">89% Confidence</div>
            </div>
            <div class="prediction-meta">
                <span>⏰ 18 hours until failure</span>
                <span>🎯 3/4 models agree</span>
                <span>🎫 INC0012345</span>
            </div>
            <div class="prediction-description">
                Memory usage showing steady upward trend over the past 72 hours. Predicted to reach critical threshold (95%) in approximately 18 hours. Pattern consistent with gradual memory leak in NTDS service.
            </div>
            <div class="prediction-recommendation">
                <strong>Recommendation:</strong> Schedule maintenance to restart NTDS service or investigate memory leak. Recommend action within 12 hours to prevent service disruption. Estimated impact: 2,000 users if failure occurs during business hours. Proactive maintenance cost: £2,000. Reactive incident cost: £720,000.
            </div>
        </div>

        <div class="prediction-card warning">
            <div class="prediction-header">
                <div class="prediction-title">DC01-LON - Disk I/O Degradation</div>
                <div class="confidence-badge warning">72% Confidence</div>
            </div>
            <div class="prediction-meta">
                <span>⏰ 48 hours until failure</span>
                <span>🎯 2/4 models agree</span>
                <span>🎫 INC0012346</span>
            </div>
            <div class="prediction-description">
                Disk response time showing gradual increase over the past week. Average disk queue length elevated. May indicate early signs of disk failure or controller issues.
            </div>
            <div class="prediction-recommendation">
                <strong>Recommendation:</strong> Monitor closely. Run comprehensive disk diagnostics (chkdsk, SMART status). Consider disk replacement during next scheduled maintenance window. Order replacement disk as precaution.
            </div>
        </div>
    </div>

    <!-- Domain Controllers Status -->
    <div class="section">
        <h2>🖥️ Domain Controllers Health</h2>
        <div class="dc-grid">
            <div class="dc-card">
                <div class="dc-header">
                    <div class="dc-name">DC01-LON</div>
                    <div class="status-badge healthy">Healthy</div>
                </div>
                <div class="health-score healthy">94/100</div>
                <div class="metrics-list">
                    <div class="metric-row">
                        <span class="metric-label">CPU Usage</span>
                        <span class="metric-value">28%</span>
                    </div>
                    <div class="metric-row">
                        <span class="metric-label">Memory Usage</span>
                        <span class="metric-value">59%</span>
                    </div>
                    <div class="metric-row">
                        <span class="metric-label">LDAP Bind Time</span>
                        <span class="metric-value">39ms</span>
                    </div>
                    <div class="metric-row">
                        <span class="metric-label">Active Connections</span>
                        <span class="metric-value">897</span>
                    </div>
                </div>
            </div>

            <div class="dc-card">
                <div class="dc-header">
                    <div class="dc-name">DC02-LON</div>
                    <div class="status-badge healthy">Healthy</div>
                </div>
                <div class="health-score healthy">91/100</div>
                <div class="metrics-list">
                    <div class="metric-row">
                        <span class="metric-label">CPU Usage</span>
                        <span class="metric-value">26%</span>
                    </div>
                    <div class="metric-row">
                        <span class="metric-label">Memory Usage</span>
                        <span class="metric-value">51%</span>
                    </div>
                    <div class="metric-row">
                        <span class="metric-label">LDAP Bind Time</span>
                        <span class="metric-value">40ms</span>
                    </div>
                    <div class="metric-row">
                        <span class="metric-label">Active Connections</span>
                        <span class="metric-value">1,040</span>
                    </div>
                </div>
            </div>

            <div class="dc-card warning">
                <div class="dc-header">
                    <div class="dc-name">DC03-LON</div>
                    <div class="status-badge warning">Warning</div>
                </div>
                <div class="health-score warning">65/100</div>
                <div class="metrics-list">
                    <div class="metric-row">
                        <span class="metric-label">CPU Usage</span>
                        <span class="metric-value">42%</span>
                    </div>
                    <div class="metric-row">
                        <span class="metric-label">Memory Usage</span>
                        <span class="metric-value" style="color: #e74c3c;">87%</span>
                    </div>
                    <div class="metric-row">
                        <span class="metric-label">LDAP Bind Time</span>
                        <span class="metric-value" style="color: #f39c12;">78ms</span>
                    </div>
                    <div class="metric-row">
                        <span class="metric-label">Active Connections</span>
                        <span class="metric-value">1,168</span>
                    </div>
                </div>
            </div>

            <div class="dc-card">
                <div class="dc-header">
                    <div class="dc-name">DC04-MAN</div>
                    <div class="status-badge healthy">Healthy</div>
                </div>
                <div class="health-score healthy">93/100</div>
                <div class="metrics-list">
                    <div class="metric-row">
                        <span class="metric-label">CPU Usage</span>
                        <span class="metric-value">41%</span>
                    </div>
                    <div class="metric-row">
                        <span class="metric-label">Memory Usage</span>
                        <span class="metric-value">45%</span>
                    </div>
                    <div class="metric-row">
                        <span class="metric-label">LDAP Bind Time</span>
                        <span class="metric-value">40ms</span>
                    </div>
                    <div class="metric-row">
                        <span class="metric-label">Active Connections</span>
                        <span class="metric-value">1,077</span>
                    </div>
                </div>
            </div>

            <div class="dc-card">
                <div class="dc-header">
                    <div class="dc-name">DC05-BIR</div>
                    <div class="status-badge healthy">Healthy</div>
                </div>
                <div class="health-score healthy">90/100</div>
                <div class="metrics-list">
                    <div class="metric-row">
                        <span class="metric-label">CPU Usage</span>
                        <span class="metric-value">41%</span>
                    </div>
                    <div class="metric-row">
                        <span class="metric-label">Memory Usage</span>
                        <span class="metric-value">49%</span>
                    </div>
                    <div class="metric-row">
                        <span class="metric-label">LDAP Bind Time</span>
                        <span class="metric-value">30ms</span>
                    </div>
                    <div class="metric-row">
                        <span class="metric-label">Active Connections</span>
                        <span class="metric-value">962</span>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Memory Trend Chart -->
    <div class="section">
        <h2>📊 DC03-LON - Memory Usage Trend (72 Hours + 24h Prediction)</h2>
        <p style="color: #7f8c8d; margin-bottom: 15px;">
            This chart demonstrates the AI's prediction capability. The solid line shows actual memory usage over the past 72 hours, 
            clearly trending upward (memory leak pattern). The dashed line shows the AI's prediction for the next 24 hours, 
            indicating the memory will cross the critical threshold (95%) in approximately 18 hours.
        </p>
        <div class="chart-container">
            <canvas id="memoryChart"></canvas>
        </div>
    </div>

    <!-- Model Performance -->
    <div class="section">
        <h2>🎯 ML Model Performance</h2>
        <p style="color: #7f8c8d; margin-bottom: 15px;">
            We use an ensemble of four machine learning models. Each model has different strengths—when multiple models agree on a prediction, 
            we have high confidence. This approach reduces false positives while maintaining sensitivity to real issues.
        </p>
        <div class="model-grid">
            <div class="model-card">
                <div class="model-name">ARIMA</div>
                <div class="model-accuracy">82.1%</div>
                <div class="model-predictions">15 predictions</div>
            </div>
            <div class="model-card">
                <div class="model-name">Prophet</div>
                <div class="model-accuracy">88.3%</div>
                <div class="model-predictions">15 predictions</div>
            </div>
            <div class="model-card">
                <div class="model-name">LSTM</div>
                <div class="model-accuracy">91.2%</div>
                <div class="model-predictions">15 predictions</div>
            </div>
            <div class="model-card">
                <div class="model-name">Isolation Forest</div>
                <div class="model-accuracy">85.7%</div>
                <div class="model-predictions">15 predictions</div>
            </div>
        </div>
        <div class="chart-container">
            <canvas id="modelChart"></canvas>
        </div>
    </div>

    <!-- Historical Incidents -->
    <div class="section">
        <h2>📜 Historical Incidents (Past 6 Months - Before AI)</h2>
        <p style="color: #7f8c8d; margin-bottom: 15px;">
            These incidents occurred before implementing Praedictio Manutentio. All showed warning signs in performance metrics 24-72 hours 
            before failure. With AI-powered predictive maintenance, every one of these could have been prevented through proactive intervention.
            <strong style="color: #e74c3c;">Total cost: £2.52 million in just 6 months.</strong>
        </p>
        <table class="incidents-table">
            <thead>
                <tr>
                    <th>Date</th>
                    <th>Domain Controller</th>
                    <th>Incident Type</th>
                    <th>Duration</th>
                    <th>Users Affected</th>
                    <th>Cost (GBP)</th>
                    <th>Preventable?</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>01 Sep 2025</td>
                    <td><strong>DC02-LON</strong></td>
                    <td>Disk Failure</td>
                    <td>3 hours</td>
                    <td>2,000</td>
                    <td class="cost-cell">£720,000</td>
                    <td>✅ Yes (48h warning)</td>
                </tr>
                <tr>
                    <td>18 Jul 2025</td>
                    <td><strong>DC03-LON</strong></td>
                    <td>Memory Exhaustion</td>
                    <td>2 hours</td>
                    <td>1,500</td>
                    <td class="cost-cell">£480,000</td>
                    <td>✅ Yes (72h warning)</td>
                </tr>
                <tr>
                    <td>18 Jun 2025</td>
                    <td><strong>DC01-LON</strong></td>
                    <td>Replication Failure</td>
                    <td>4 hours</td>
                    <td>3,000</td>
                    <td class="cost-cell">£960,000</td>
                    <td>✅ Yes (24h warning)</td>
                </tr>
                <tr>
                    <td>19 May 2025</td>
                    <td><strong>DC04-MAN</strong></td>
                    <td>Network Latency</td>
                    <td>1.5 hours</td>
                    <td>800</td>
                    <td class="cost-cell">£360,000</td>
                    <td>✅ Yes (36h warning)</td>
                </tr>
                <tr style="background: #fef5f5; font-weight: bold;">
                    <td colspan="5" style="text-align: right; padding-right: 15px;">TOTAL PREVENTABLE COST:</td>
                    <td class="cost-cell" style="font-size: 18px;">£2,520,000</td>
                    <td></td>
                </tr>
            </tbody>
        </table>
    </div>

    <!-- ROI Summary -->
    <div class="section" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white;">
        <h2 style="color: white; border-bottom-color: rgba(255,255,255,0.3);">💰 Return on Investment</h2>
        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 25px; margin-top: 25px;">
            <div style="background: rgba(255,255,255,0.15); padding: 25px; border-radius: 10px; backdrop-filter: blur(10px);">
                <div style="font-size: 16px; opacity: 0.9; margin-bottom: 10px;">Year 1 Investment</div>
                <div style="font-size: 38px; font-weight: 700;">£250,000</div>
                <div style="font-size: 14px; opacity: 0.85; margin-top: 8px;">Team + Infrastructure</div>
            </div>
            <div style="background: rgba(255,255,255,0.15); padding: 25px; border-radius: 10px; backdrop-filter: blur(10px);">
                <div style="font-size: 16px; opacity: 0.9; margin-bottom: 10px;">Annual Benefits</div>
                <div style="font-size: 38px; font-weight: 700;">£1,204,000</div>
                <div style="font-size: 14px; opacity: 0.85; margin-top: 8px;">Downtime + Efficiency</div>
            </div>
            <div style="background: rgba(255,255,255,0.15); padding: 25px; border-radius: 10px; backdrop-filter: blur(10px);">
                <div style="font-size: 16px; opacity: 0.9; margin-bottom: 10px;">Year 1 ROI</div>
                <div style="font-size: 38px; font-weight: 700;">382%</div>
                <div style="font-size: 14px; opacity: 0.85; margin-top: 8px;">Payback: 2.5 months</div>
            </div>
            <div style="background: rgba(255,255,255,0.15); padding: 25px; border-radius: 10px; backdrop-filter: blur(10px);">
                <div style="font-size: 16px; opacity: 0.9; margin-bottom: 10px;">3-Year Net Benefit</div>
                <div style="font-size: 38px; font-weight: 700;">£3.2M</div>
                <div style="font-size: 14px; opacity: 0.85; margin-top: 8px;">Cumulative Savings</div>
            </div>
        </div>
    </div>

    <div class="footer">
        <p><strong>Praedictio Manutentio</strong> - AI-Powered Predictive Maintenance Demo</p>
        <p>Generated with Synthetic Data for Demonstration Purposes</p>
        <p>© 2025 Banking Infrastructure Team | Confidential</p>
        <p style="margin-top: 15px; font-size: 13px;">
            For more information about this project, see the full technical specification and executive proposal documents.
        </p>
    </div>

    <script>
        // Generate synthetic memory data
        function generateMemoryData() {
            const data = [];
            const now = new Date();
            
            // Past 72 hours (actual data)
            for (let i = 72; i >= 0; i--) {
                const time = new Date(now - i * 60 * 60 * 1000);
                const hour = time.getHours();
                
                // Base value increasing over time (memory leak)
                let value = 60 + ((72 - i) * 0.3);
                
                // Add daily pattern (higher during business hours)
                if (hour >= 8 && hour <= 18) {
                    value += 8;
                }
                
                // Add some randomness
                value += (Math.random() - 0.5) * 5;
                
                // Ensure bounds
                value = Math.max(50, Math.min(95, value));
                
                data.push({
                    time: time,
                    value: value,
                    isPrediction: false
                });
            }
            
            // Next 24 hours (prediction)
            const lastValue = data[data.length - 1].value;
            for (let i = 1; i <= 24; i++) {
                const time = new Date(now.getTime() + i * 60 * 60 * 1000);
                let value = lastValue + (i * 0.35); // Continue upward trend
                value = Math.min(98, value);
                
                data.push({
                    time: time,
                    value: value,
                    isPrediction: true
                });
            }
            
            return data;
        }

        // Create memory chart
        const memoryData = generateMemoryData();
        const ctx = document.getElementById('memoryChart').getContext('2d');
        
        new Chart(ctx, {
            type: 'line',
            data: {
                labels: memoryData.map(d => {
                    if (d.isPrediction) {
                        const hours = Math.round((d.time - new Date()) / (1000 * 60 * 60));
                        return `+${hours}h`;
                    }
                    return d.time.toLocaleString('en-GB', { month: 'short', day: 'numeric', hour: '2-digit' });
                }),
                datasets: [{
                    label: 'Memory Usage (%)',
                    data: memoryData.map(d => d.value),
                    borderColor: '#e74c3c',
                    backgroundColor: 'rgba(231, 76, 60, 0.1)',
                    tension: 0.4,
                    fill: true,
                    pointRadius: 0,
                    borderWidth: 3,
                    segment: {
                        borderDash: ctx => {
                            const index = ctx.p0DataIndex;
                            return memoryData[index].isPrediction ? [8, 4] : undefined;
                        }
                    }
                }, {
                    label: 'Warning Threshold (80%)',
                    data: Array(memoryData.length).fill(80),
                    borderColor: '#f39c12',
                    borderWidth: 2,
                    borderDash: [10, 5],
                    pointRadius: 0,
                    fill: false
                }, {
                    label: 'Critical Threshold (95%)',
                    data: Array(memoryData.length).fill(95),
                    borderColor: '#c0392b',
                    borderWidth: 2,
                    borderDash: [10, 5],
                    pointRadius: 0,
                    fill: false
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: {
                        display: true,
                        position: 'top',
                        labels: {
                            font: { size: 13 },
                            padding: 15
                        }
                    },
                    tooltip: {
                        mode: 'index',
                        intersect: false
                    }
                },
                scales: {
                    y: {
                        beginAtZero: false,
                        min: 40,
                        max: 100,
                        title: {
                            display: true,
                            text: 'Memory Usage (%)',
                            font: { size: 14, weight: 'bold' }
                        },
                        grid: {
                            color: 'rgba(0, 0, 0, 0.05)'
                        }
                    },
                    x: {
                        title: {
                            display: true,
                            text: 'Time (Past 72 hours ← | → Next 24 hours predicted)',
                            font: { size: 14, weight: 'bold' }
                        },
                        ticks: {
                            maxTicksLimit: 15
                        },
                        grid: {
                            color: 'rgba(0, 0, 0, 0.05)'
                        }
                    }
                }
            }
        });

        // Create model performance chart
        const modelCtx = document.getElementById('modelChart').getContext('2d');
        new Chart(modelCtx, {
            type: 'bar',
            data: {
                labels: ['ARIMA', 'Prophet', 'LSTM', 'Isolation Forest'],
                datasets: [{
                    label: 'Accuracy (%)',
                    data: [82.1, 88.3, 91.2, 85.7],
                    backgroundColor: [
                        'rgba(52, 152, 219, 0.8)',
                        'rgba(46, 204, 113, 0.8)',
                        'rgba(155, 89, 182, 0.8)',
                        'rgba(241, 196, 15, 0.8)'
                    ],
                    borderColor: [
                        'rgba(52, 152, 219, 1)',
                        'rgba(46, 204, 113, 1)',
                        'rgba(155, 89, 182, 1)',
                        'rgba(241, 196, 15, 1)'
                    ],
                    borderWidth: 2
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: {
                        display: false
                    },
                    tooltip: {
                        callbacks: {
                            label: function(context) {
                                return 'Accuracy: ' + context.parsed.y + '%';
                            }
                        }
                    }
                },
                scales: {
                    y: {
                        beginAtZero: false,
                        min: 70,
                        max: 100,
                        title: {
                            display: true,
                            text: 'Prediction Accuracy (%)',
                            font: { size: 14, weight: 'bold' }
                        }
                    },
                    x: {
                        title: {
                            display: true,
                            text: 'Machine Learning Model',
                            font: { size: 14, weight: 'bold' }
                        }
                    }
                }
            }
        });

        // Print helper
        window.addEventListener('beforeprint', function() {
            document.body.style.background = 'white';
        });
    </script>
</body>
</html>

